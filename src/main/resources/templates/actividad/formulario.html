<!doctype html>
<html lang="en">

<head th:replace="layout/head :: head">
   
</head>

<body data-topbar="colored">
    <div id="layout-wrapper">
        <header id="page-topbar" th:replace="layout/topbar :: topbar"></header>
        <div class="vertical-menu" th:replace="layout/menu :: menu"></div>

        <div class="main-content">
            <div class="page-content">
                <div class="page-title-box" style="background-color: #0c289a;color: white;">
                    <div class="container-fluid" >
                        <div class="row align-items-center">
                            <!--<div class="col-md-8">
                                    <h4 class="page-title mb-1">Form Elements</h4>
                                    <ol class="breadcrumb m-0">
                                        <li class="breadcrumb-item"><a href="javascript: void(0);">Forms</a></li>
                                    <li class="breadcrumb-item active">Form Elements</li>
                                    </ol>
                                </div>
                                <div class="col-md-4">
                                    <div class="float-right d-none d-md-block">
                                        <div class="dropdown">
                                            <button class="btn btn-light btn-rounded dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                <i class="mdi mdi-settings-outline mr-1"></i> Settings
                                            </button>
                                            <div class="dropdown-menu dropdown-menu-right dropdown-menu-animated">
                                                <a class="dropdown-item" href="#">Action</a>
                                                <a class="dropdown-item" href="#">Another action</a>
                                                <a class="dropdown-item" href="#">Something else here</a>
                                                <div class="dropdown-divider"></div>
                                                <a class="dropdown-item" href="#">Separated link</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>-->
                        </div>

                    </div>
                </div>
                <!-- end page title end breadcrumb -->

                <div class="page-content-wrapper">
                    <div class="container-fluid">
                        
                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-body">
                                        <div th:class="'alert alert-' + (${clase != null} ? ${clase} : info)"
                                            role="alert" th:if="${mensaje != null}">
                                            <h4 class="alert-body" th:text="${mensaje}"></h4>
                                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <form
                                            th:if="${personalADM.cod_funcionario} != 276 AND ${personalADM.cod_funcionario} != 4208838 AND ${personalADM.cod_funcionario} != 404"
                                            th:action="@{/actvidadPost}" method="post">
                                            <h4 class="header-title">CREAR NUEVA ACTIVIDAD</h4>
                                            <input type="hidden" id="usuarioRegistro" name="usuarioRegistro"
                                                th:value="${session.personalAdministrativo.persona.nombre+' '+session.personalAdministrativo.persona.apellido}">
                                            <div class="form-group row">
                                                <div class="col-md-5">
                                                    <div>
                                                        <label class="col-form-label">Actividad a realizar (Palabra
                                                            Clave)</label>
                                                        <input class="form-control" type="text"
                                                            th:field="${actividad.nombre_actividad}"
                                                            placeholder="Palabra Clave" required>
                                                    </div>
                                                </div>
                                                <div class="col-md-7">
                                                    <div>
                                                        <label class="col-form-label">Descripcion</label>
                                                        <textarea class="form-control" type="text"
                                                            th:field="${actividad.descripcion_actividad}"
                                                            placeholder="Descripcion" required></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-md-5">
                                                    <div>
                                                        <label class="col-form-label">Unidad Funcional</label>
                                                        <select class="selectize"
                                                            th:field="${actividad.unidadFuncional}">
                                                            <th:block th:if="${nivel.id_nivel_funcional==1}">
                                                                <option th:each="u:${unidadFuncionales}"
                                                                    th:if="${u.estado!='X'}"
                                                                    th:value="${u.id_unidad_funcional}"
                                                                    th:text="${u.nom_unidad}">-</option>
                                                            </th:block>
                                                            <th:block>
                                                                <option th:value="${unidad.id_unidad_funcional}"
                                                                    th:text="${unidad.nom_unidad}">-</option>
                                                            </th:block>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div>
                                                        <label class="col-form-label">Tipo de actividad</label>
                                                        <select class="selectize" th:field="${actividad.tipoActividad}"
                                                            required>
                                                            <option value="" selected>Seleccionar...</option>
                                                            <option th:each="ta:${tipoActividades}"
                                                                th:value="${ta.id_tipo_actividad}"
                                                                th:text="${ta.nombre_tipo_actividad}">-</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div>
                                                        <label class="col-form-label">Afluencia</label>
                                                        <select class="selectize" th:field="${actividad.afluencia}"
                                                            required>
                                                            <option value="" selected>Seleccionar...</option>
                                                            <option th:each="a:${afluencias}"
                                                                th:value="${a.id_afluencia}"
                                                                th:text="${a.nombre_afluencia}">-</option>
                                                        </select>
                                                    </div>
                                                </div>

                                            </div>
                                            
                                            <div class="form-group row justify-content-center">
                                                <div class="">
                                                    <br>
                                                    <button class="btn btn-primary btn-sm" onclick="agregarInput()">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="col-md-3">
                                                    <div>
                                                        <label class="col-form-label">Fecha</label>
                                                        <input type="date" class="form-control"
                                                            id="fechas" name="fechasA" required />
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div>
                                                        <label class="col-form-label">Hora inicio</label>
                                                        <input type="time" class="form-control" name="horasI" required/>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div>
                                                        <label class="col-form-label">Hora fin</label>
                                                        <input type="time" class="form-control" name="horasF" required/>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    
                                                    <button type="button" class="btn btn-sm btn-info mt-2 waves-effect waves-light" data-container="body" data-toggle="popover" data-placement="top" 
                                                    title="INDICACIONES DEL CHECKBOX" data-trigger="focus" style="font-size: 10px; padding: 4px 8px;"
                                                    data-content="Al presionar el checkbox, estan filtrando los lugares denominados como salones de la U.A.P. para su posterior enviar como solicitud al responsble de los que administran dichos salones de la Universidad.">
                                                        ?
                                                    </button>
                                                    <br>
                                                    <div class="mt-2"><input id="checkbox" type="checkbox" style="width: 20px; height: 20px;"></div>
                                                    
                                                </div>
                                                <div class="col-md-3 mt-1">
                                                    <label class="col-form-label">Lugares</label>
                                                    <select id="select" class="form-control select2" name="lugaresA">
                                                        <option th:each="l:${lugares}" th:value="${l.id_lugar}" th:text="${l.nombre_lugar}"></option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div  id="contenedorInputs" class="mt-3">
                                            </div>
                                            <div class="form-group mt-4 text-center">
                                                <button class="btn btn-primary waves-effect waves-light"
                                                    type="submit">Guardar</button>
                                            </div>
                                        </form>
                                        <form
                                            th:if="${personalADM.cod_funcionario} == 276 or ${personalADM.cod_funcionario} == 4208838 or ${personalADM.cod_funcionario} == 404"
                                            th:action="@{/actvidadPostADM}" method="post">
                                            <h4 class="header-title">CREAR NUEVA ACTIVIDAD</h4>
                                            <input type="hidden" id="usuarioRegistro" name="usuarioRegistro"
                                                th:value="${session.personalAdministrativo.persona.nombre+' '+session.personalAdministrativo.persona.apellido}">
                                            <p class="card-title-desc">Modo administrador.</p>

                                            <div class="form-group row">
                                                <div class="col-md-5">
                                                    <div>
                                                        <label class="col-form-label">Actividad a realizar (Palabra
                                                            Clave)</label>
                                                        <input class="form-control" type="text"
                                                            th:field="${actividad.nombre_actividad}"
                                                            placeholder="Palabra Clave" required>
                                                    </div>
                                                </div>
                                                <div class="col-md-7">
                                                    <div>
                                                        <label class="col-form-label">Descripcion</label>
                                                        <textarea class="form-control" type="text"
                                                            th:field="${actividad.descripcion_actividad}"
                                                            placeholder="Descripcion" required></textarea>
                                                    </div>
                                                </div>
                                                <div class="col-md-5">
                                                    <div>
                                                        <label class="col-form-label">Unidad Funcional</label>
                                                        <select class="selectize"
                                                            th:field="${actividad.unidadFuncional}">
                                                            <th:block th:if="${nivel.id_nivel_funcional==1}">
                                                                <option th:each="u:${unidadFuncionales}"
                                                                    th:if="${u.estado!='X'}"
                                                                    th:value="${u.id_unidad_funcional}"
                                                                    th:text="${u.nom_unidad}">-</option>
                                                            </th:block>
                                                            <th:block>
                                                                <option th:value="${unidad.id_unidad_funcional}"
                                                                    th:text="${unidad.nom_unidad}">-</option>
                                                            </th:block>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-3">
                                                    <div>
                                                        <label class="col-form-label">Tipo de actividad</label>
                                                        <select class="selectize" th:field="${actividad.tipoActividad}"
                                                            required>
                                                            <option value="" selected>Seleccionar...</option>
                                                            <option th:each="ta:${tipoActividades}"
                                                                th:value="${ta.id_tipo_actividad}"
                                                                th:text="${ta.nombre_tipo_actividad}">-</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div>
                                                        <label class="col-form-label">Afluencia</label>
                                                        <select class="selectize" th:field="${actividad.afluencia}"
                                                            required>
                                                            <option value="" selected>Seleccionar...</option>
                                                            <option th:each="a:${afluencias}"
                                                                th:value="${a.id_afluencia}"
                                                                th:text="${a.nombre_afluencia}">-</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="form-group row justify-content-center">
                                                <div class="">
                                                    <br>
                                                    <button class="btn btn-primary btn-sm" onclick="agregarInput()">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="col-md-3">
                                                    <div>
                                                        <label class="col-form-label">Fecha</label>
                                                        <input type="date" class="form-control"
                                                            id="fechas" name="fechasA" required />
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div>
                                                        <label class="col-form-label">Hora inicio</label>
                                                        <input type="time" class="form-control" name="horasI" required/>
                                                    </div>
                                                </div>
                                                <div class="col-md-2">
                                                    <div>
                                                        <label class="col-form-label">Hora fin</label>
                                                        <input type="time" class="form-control" name="horasF" required/>
                                                    </div>
                                                </div>
                                                <div class="mt-1">
                                                    
                                                    <button type="button" class="btn btn-sm btn-danger mb-0 waves-effect" data-container="body" data-toggle="popover" data-placement="top" title="INDICACIONES DEL CHECKBOX" 
                                                    data-content="Al presionar el checkbox, estan filtrando los lugares denominados como salones de la U.A.P. para su posterior enviar como solicitud al responsble de los que administran dichos salones de la Universidad.">
                                                        ?
                                                    </button>
                                                    <br>
                                                    <div class="mt-3"><input id="checkbox" type="checkbox" style="width: 20px; height: 20px;"></div>
                                                    
                                                </div>
                                                <div class="col-md-3 mt-1">
                                                    <label class="col-form-label">Lugares</label>
                                                    <select id="select" class="form-control select2" name="lugaresA">
                                                        <option th:each="l:${lugares}" th:value="${l.id_lugar}" th:text="${l.nombre_lugar}"></option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div  id="contenedorInputs" class="mt-3">
                                            </div>
                                            <div class="form-group mt-4 text-center">
                                                <button class="btn btn-primary waves-effect waves-light"
                                                    type="submit">Guardar</button>
                                            </div>
                                        </form> 
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" th:if="${nivel.id_nivel_funcional==2} or ${nivel.id_nivel_funcional==1}">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-2">
                                                <select class="form-control" id="id_select"
                                                    onchange="mostrarFormulario()">
                                                    <option value="">select</option>
                                                    <!--<option th:if="${nivel.id_nivel_funcional>=1}"
                                                        value="6">Por Mes y Año</option>-->
                                                    <option
                                                        th:if="${nivel.id_nivel_funcional==2} or ${nivel.id_nivel_funcional==1}"
                                                        value="2">Por Carrera/unidad</option>
                                                    <option
                                                        th:if="${nivel.id_nivel_funcional==2} or ${nivel.id_nivel_funcional==1}"
                                                        value="3">Por Carrera/Unidad, Mes y Año</option>
                                                    <option th:if="${nivel.id_nivel_funcional==1}" value="4">Por
                                                        Direccion</option>
                                                    <option th:if="${nivel.id_nivel_funcional==1}" value="5">Por
                                                        Direccion, Mes y Año</option>
                                                </select>
                                            </div>
                                            <div class="col-md-10" id="replace_div">

                                            </div>
                                        </div>
                                        <script>
                                            function mostrarFormulario() {
                                                var option_value = document.getElementById("id_select").value;
                                                //alert(option_value);
                                                //getContent();
                                                if (option_value == "1") {
                                                    getContent();
                                                    $('#id_select').change(getContent);
                                                    function getContent() {
                                                        var url = "/formu";
                                                        $('#replace_div').load(url);
                                                    }
                                                }
                                                if (option_value == "2") {
                                                    getContent();
                                                    $('#id_select').change(getContent);
                                                    function getContent() {
                                                        var url = "/formularioPorCarrera";
                                                        $('#replace_div').load(url);
                                                    }
                                                }
                                                if (option_value == "3") {
                                                    getContent();
                                                    $('#id_select').change(getContent);
                                                    function getContent() {
                                                        var url = "/formularioPorCarreraMesAnio";
                                                        $('#replace_div').load(url);
                                                    }
                                                }
                                                if (option_value == "4") {
                                                    getContent();
                                                    $('#id_select').change(getContent);
                                                    function getContent() {
                                                        var url = "/formularioPorDireccion";
                                                        $('#replace_div').load(url);
                                                    }
                                                }
                                                if (option_value == "5") {
                                                    getContent();
                                                    $('#id_select').change(getContent);
                                                    function getContent() {
                                                        var url = "/formularioPorDireccionMesAnio";
                                                        $('#replace_div').load(url);
                                                    }
                                                }
                                            }
                                        </script>
                                        <hr>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <div class="card">
                                    <div class="card-body">
                                        <ul class="nav nav-tabs" role="tablist" style="font-size: 12px;">
                                            <li class="nav-item text-center">
                                                <a style="background-color: #ef927b;" class="nav-link" data-toggle="tab"
                                                    href="#actividadSemanaPasada" role="tab">
                                                    <span style="color: #ffffff;"
                                                        class="d-none d-md-inline-block">ACTIVIDAD SEMANA PASADA</span>
                                                    <p
                                                        style="font-size: 10px; width: 100%; height: 1px; color: #f5f5f5;">
                                                        ([[${fechalunespasado}]] - [[${fechadomingopasado}]])
                                                    </p>
                                                </a>
                                            </li>
                                            <li class="nav-item text-center">
                                                <a style="background-color: #41d696;" class="nav-link active"
                                                    data-toggle="tab" href="#actividadSemanaActual" role="tab">
                                                    <span style="color: #ffffff;"
                                                        class="d-none d-md-inline-block">ACTIVIDAD SEMANA ACTUAL</span>
                                                    <p
                                                        style="font-size: 10px; width: 100%; height: 1px; color: #f5f5f5;">
                                                        ([[${fechalunesactual}]] - [[${fechadomingoactual}]])
                                                    </p>
                                                </a>
                                            </li>
                                            <li class="nav-item text-center">
                                                <a style="background-color: #24a2d8;" class="nav-link" data-toggle="tab"
                                                    href="#actividadSemanaSiguiente" role="tab">
                                                    <span style="color: #ffffff;"
                                                        class="d-none d-md-inline-block">ACTIVIDAD SEMANA
                                                        SIGUIENTE</span>
                                                    <p
                                                        style="font-size: 10px; width: 100%; height: 1px; color: #f5f5f5;">
                                                        ([[${fechalunesfuturo}]] - [[${fechadomingofuturo}]])
                                                    </p>
                                                </a>
                                            </li>
                                        </ul>
                                        <div class="tab-content p-3">
                                            <div class="tab-pane" id="actividadSemanaPasada" role="tabpanel">
                                                <hr>
                                                <h3 style="color: #ef927b;">ACTIVIDADES DE LA SEMANA PASADA</h3>
                                                <hr>
                                                <table id="example2"
                                                    class="table table-striped table-bordered dt-responsive"
                                                    style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                                                    <thead style="font-size:12px;">
                                                        <tr>

                                                            <th>#</th>
                                                            <th>MAS</th>
                                                            <th th:if="${nivel.id_nivel_funcional==1}">DIRECCION</th>
                                                            <th
                                                                th:if="${nivel.id_nivel_funcional==2} or ${nivel.id_nivel_funcional==1}">
                                                                UNIDAD</th>
                                                            <!--<th>RESPONSABLE</th>-->
                                                            <th>ACTIVIDAD</th>
                                                            <th>TIPO ACTIVIDAD</th>
                                                            <th>AFLUENCIA</th>
                                                            <th>ESTADO</th>
                                                            <th>FECHAS</th>
                                                            <th>EV-%</th>
                                                            <th>EV-T</th>

                                                        </tr>
                                                    </thead>


                                                    <tbody style="font-size:12px;">
                                                        <tr th:each="ac, ind:${listaActividadesMiUnidadPasado}"
                                                            th:if="${ac.estado!='X'}" data-toggle="tooltip"
                                                            data-placement="top" th:title="${ac.descripcion_actividad}"
                                                            th:style="${ac.programdo == false} ? 'background-color: rgb(235, 217, 166);' : ''">

                                                            <td th:text="${ac.id_actividad}"></td>
                                                            <td>
                                                                <th:block th:each="ev:${ac.evaluacions}"
                                                                    th:if="${ev.tipoEvaluacion.id_tipo_evaluacion==1} and ${ev.estado!='X'}">
                                                                    <a href="#" data-toggle="tooltip"
                                                                        data-placement="top" title="Ver pdf"
                                                                        th:onclick="verDetalles([[${ev.id_evaluacion}]])"><i
                                                                            class="mdi mdi-eye-settings-outline"></i></a><!--ver-->
                                                                </th:block>
                                                                <th:block th:if="${ac.evaluacions.size()==0}">
                                                                    <a th:if="${nivel.id_nivel_funcional>=2} and ${ac.unidadFuncional.nom_unidad==unidad.nom_unidad}"
                                                                        href="#" data-toggle="tooltip"
                                                                        data-placement="top" title="Evaluar"
                                                                        th:onclick="evaluar([[${ac.id_actividad}]])"><i
                                                                            class="fab fa-wpforms"></i></a><!--evaluacion-->
                                                                </th:block>
                                                                <a th:if="${nivel.id_nivel_funcional>=2} and ${ac.unidadFuncional.nom_unidad==unidad.nom_unidad} and ${ac.estadoActividad.id_estado_actividad==1}"
                                                                    th:href="@{'/detalleActividad/'+${ac.id_actividad}}"
                                                                    data-toggle="tooltip" data-placement="top"
                                                                    title="Editar"><i
                                                                        class="far fa-edit"></i></a><!--editar-->
                                                                <a href="#"
                                                                    th:if="${nivel.id_nivel_funcional>=2} and ${ac.unidadFuncional.nom_unidad==unidad.nom_unidad} and ${ac.estadoActividad.id_estado_actividad==1}"
                                                                    data-toggle="tooltip" data-placement="top"
                                                                    title="Eliminar"
                                                                    th:onclick="eliminarActividad([[${ac.id_actividad}]])"><i
                                                                        class="far fa-trash-alt"></i></a><!--eliminar-->

                                                                <th:block
                                                                    th:if="${ac.programacions.size()==0} and ${nivel.id_nivel_funcional==1}">
                                                                    <a th:onclick="programar([[${ac.id_actividad}]])"
                                                                        href="#" data-toggle="tooltip"
                                                                        data-placement="top" title="Programar"><i
                                                                            class="mdi mdi-check-underline-circle-outline"></i></a><!-- programar-->
                                                                </th:block>
                                                                <th:block th:each="p:${ac.programacions}"
                                                                    th:if="${nivel.id_nivel_funcional==1}">
                                                                    <a th:if="${p.actividad.id_actividad==ac.id_actividad}"
                                                                        href="#"><i
                                                                            class="mdi mdi-check-underline-circle"></i></a><!--mdi mdi-check-underline-circle programar-->
                                                                </th:block>

                                                            </td>
                                                            <td th:if="${nivel.id_nivel_funcional==1}"
                                                                th:text="${ac.unidadFuncional.direccionFuncional.nom_direccion}">
                                                            </td>
                                                            <td th:if="${nivel.id_nivel_funcional==2} or ${nivel.id_nivel_funcional==1}"
                                                                th:text="${ac.unidadFuncional.nom_unidad}"></td>
                                                            <!--<td>
                                                                <th:block th:each="r:${ac.responsables}">
                                                                    <div th:text="${r.personalAdministrativo.persona.nombre+' '+r.personalAdministrativo.persona.apellido}">
                                                                        
                                                                    </div>
                                                                </th:block>
                                                            </td>  -->
                                                            <td th:text="${ac.nombre_actividad}"></td>

                                                            <td th:text="${ac.tipoActividad.nombre_tipo_actividad}">
                                                            </td>
                                                            <td th:text="${ac.afluencia.nombre_afluencia}"></td>
                                                            <td>
                                                                <th:block
                                                                    th:if="${ac.estadoActividad.nombre_estado_actividad=='CONCLUIDO'}">
                                                                    <div>
                                                                        <span class="badge badge-pill badge-light"
                                                                            style="background-color: #b9f3bd;"
                                                                            th:text="${ac.estadoActividad.nombre_estado_actividad}"></span>
                                                                    </div>
                                                                </th:block>
                                                                <th:block
                                                                    th:if="${ac.estadoActividad.nombre_estado_actividad=='PENDIENTE'}">
                                                                    <div>
                                                                        <span class="badge badge-pill badge-light"
                                                                            style="background-color: #b9edf3;"
                                                                            th:text="${ac.estadoActividad.nombre_estado_actividad}"></span>
                                                                    </div>
                                                                </th:block>
                                                            </td>
                                                            <td>
                                                                <th:block th:each="da:${ac.detalleActividads}"
                                                                    th:if="${da.estado!='X'}">
                                                                    <div>
                                                                        <span class="badge badge-pill badge-light"
                                                                            style="background-color: #B9F3E4;"
                                                                            th:text="${da.fecha_detalle_actividad}">
                                                                        </span>
                                                                    </div>
                                                                    <th:block th:each="sda:${da.subDetalleActividads}"
                                                                        th:if="${sda.estado!='X'}">

                                                                        <th:block th:each="l:${sda.lugares}">
                                                                            <div>

                                                                                <span
                                                                                    class="badge badge-pill badge-light"
                                                                                    style="background-color: #a3e1ef;"
                                                                                    th:text="${sda.hora_inicio}+' - '+${l.nombre_lugar}"></span>
                                                                            </div>
                                                                        </th:block>
                                                                    </th:block>
                                                                </th:block>
                                                            </td>
                                                            <td>
                                                                <th:block th:each="e:${ac.evaluacions}">
                                                                    <div>
                                                                        <span class="badge badge-pill badge-light"
                                                                            style="background-color: #9db9d3;"
                                                                            th:text="${e.porcentaje}+'%'"></span>
                                                                    </div>

                                                                </th:block>
                                                            </td>
                                                            <td>
                                                                <div>
                                                                    <span class="badge badge-pill badge-light"
                                                                        style="background-color: #afd1b6;"
                                                                        th:if="${ac.evaluacion_actividad_total}!=null"
                                                                        th:text="${ac.evaluacion_actividad_total}+'%'"></span>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                            <div class="tab-pane active" id="actividadSemanaActual" role="tabpanel">
                                                <hr>
                                                <h3 style="color: #41d696;">ACTIVIDADES DE LA SEMANA ACTUAL</h3>
                                                <hr>
                                                <table id="example1" class="table dt-responsive"
                                                    style=" border-spacing: 0; width: 100%;">
                                                    <thead style="font-size:12px;">
                                                        <tr>

                                                            <th>#</th>
                                                            <th>MAS</th>
                                                            <th th:if="${nivel.id_nivel_funcional==1}">DIRECCION</th>
                                                            <th
                                                                th:if="${nivel.id_nivel_funcional==2} or ${nivel.id_nivel_funcional==1}">
                                                                UNIDAD</th>
                                                            <!--<th>RESPONSABLE</th>-->
                                                            <th>ACTIVIDAD</th>
                                                            <th>TIPO ACTIVIDAD</th>
                                                            <th>AFLUENCIA</th>
                                                            <th>ESTADO</th>
                                                            <th width="10px">FECHAS</th>
                                                            <th>EV-%</th>
                                                            <th>EV-T</th>

                                                        </tr>
                                                    </thead>



                                                    <tbody style="font-size:12px;">

                                                        <tr th:each="ac, ind:${listaActividadesMiUnidadActual}"
                                                            th:if="${ac.estado!='X'}" data-toggle="tooltip"
                                                            data-placement="top" th:title="${ac.descripcion_actividad}"
                                                            th:style="${ac.programdo == false} ? 'background-color: rgb(235, 217, 166);' : ''">

                                                            <td th:text="${ac.id_actividad}"></td>
                                                            <td>
                                                                <th:block th:each="ev:${ac.evaluacions}"
                                                                    th:if="${ev.tipoEvaluacion.id_tipo_evaluacion==1} and ${ev.estado!='X'}">
                                                                    <a href="#" data-toggle="tooltip"
                                                                        data-placement="top" title="Ver pdf"
                                                                        th:onclick="verDetalles([[${ev.id_evaluacion}]])"><i
                                                                            class="mdi mdi-eye-settings-outline"></i></a><!--ver-->
                                                                </th:block>
                                                                <th:block th:if="${ac.evaluacions.size()==0}">
                                                                    <a th:if="${nivel.id_nivel_funcional>=2} and ${ac.unidadFuncional.nom_unidad==unidad.nom_unidad}"
                                                                        href="#" data-toggle="tooltip"
                                                                        data-placement="top" title="Evaluar"
                                                                        th:onclick="evaluar([[${ac.id_actividad}]])"><i
                                                                            class="fab fa-wpforms"></i></a><!--evaluacion-->
                                                                </th:block>
                                                                <a th:if="${nivel.id_nivel_funcional>=2} and ${ac.unidadFuncional.nom_unidad==unidad.nom_unidad} and ${ac.estadoActividad.id_estado_actividad==1}"
                                                                    th:href="@{'/detalleActividad/'+${ac.id_actividad}}"
                                                                    data-toggle="tooltip" data-placement="top"
                                                                    title="Editar"><i
                                                                        class="far fa-edit"></i></a><!--editar-->
                                                                <a href="#"
                                                                    th:if="${nivel.id_nivel_funcional>=2} and ${ac.unidadFuncional.nom_unidad==unidad.nom_unidad} and ${ac.estadoActividad.id_estado_actividad==1}"
                                                                    data-toggle="tooltip" data-placement="top"
                                                                    title="Eliminar"
                                                                    th:onclick="eliminarActividad([[${ac.id_actividad}]])"><i
                                                                        class="far fa-trash-alt"></i></a><!--eliminar-->

                                                                <th:block
                                                                    th:if="${ac.programacions.size()==0} and ${nivel.id_nivel_funcional==1}">
                                                                    <a th:onclick="programar([[${ac.id_actividad}]])"
                                                                        href="#" data-toggle="tooltip"
                                                                        data-placement="top" title="Programar"><i
                                                                            class="mdi mdi-check-underline-circle-outline"></i></a><!-- programar-->
                                                                </th:block>
                                                                <th:block th:each="p:${ac.programacions}"
                                                                    th:if="${nivel.id_nivel_funcional==1}">
                                                                    <a th:if="${p.actividad.id_actividad==ac.id_actividad}"
                                                                        href="#"><i
                                                                            class="mdi mdi-check-underline-circle"></i></a><!--mdi mdi-check-underline-circle programar-->
                                                                </th:block>

                                                            </td>
                                                            <td th:if="${nivel.id_nivel_funcional==1}"
                                                                th:text="${ac.unidadFuncional.direccionFuncional.nom_direccion}">
                                                            </td>
                                                            <td th:if="${nivel.id_nivel_funcional==2} or ${nivel.id_nivel_funcional==1}"
                                                                th:text="${ac.unidadFuncional.nom_unidad}"></td>
                                                            <!--<td>
                                                                <th:block th:each="r:${ac.responsables}">
                                                                    <div th:text="${r.personalAdministrativo.persona.nombre+' '+r.personalAdministrativo.persona.apellido}">
                                                                        
                                                                    </div>
                                                                </th:block>
                                                            </td>  -->
                                                            <td th:text="${ac.nombre_actividad}"></td>
                                                            <td th:text="${ac.tipoActividad.nombre_tipo_actividad}">
                                                            </td>
                                                            <td th:text="${ac.afluencia.nombre_afluencia}"></td>
                                                            <td>
                                                                <th:block
                                                                    th:if="${ac.estadoActividad.nombre_estado_actividad=='CONCLUIDO'}">
                                                                    <div>
                                                                        <span class="badge badge-pill badge-light"
                                                                            style="background-color: #b9f3bd;"
                                                                            th:text="${ac.estadoActividad.nombre_estado_actividad}"></span>
                                                                    </div>
                                                                </th:block>
                                                                <th:block
                                                                    th:if="${ac.estadoActividad.nombre_estado_actividad=='PENDIENTE'}">
                                                                    <div>
                                                                        <span class="badge badge-pill badge-light"
                                                                            style="background-color: #b9edf3;"
                                                                            th:text="${ac.estadoActividad.nombre_estado_actividad}"></span>
                                                                    </div>
                                                                </th:block>
                                                            </td>
                                                            <td>
                                                                <th:block th:each="da:${ac.detalleActividads}"
                                                                    th:if="${da.estado!='X'}">
                                                                    <div>
                                                                        <span class="badge badge-pill badge-light"
                                                                            style="background-color: #B9F3E4;"
                                                                            th:text="${da.fecha_detalle_actividad}"></span>
                                                                    </div>
                                                                    <th:block th:each="sda:${da.subDetalleActividads}"
                                                                        th:if="${sda.estado!='X'}">

                                                                        <th:block th:each="l:${sda.lugares}">
                                                                            <div>
                                                                                <span
                                                                                    class="badge badge-pill badge-light"
                                                                                    style="background-color: #a3e1ef;"
                                                                                    th:text="${sda.hora_inicio}+' - '+${l.nombre_lugar}"></span>
                                                                            </div>
                                                                        </th:block>
                                                                    </th:block>
                                                                </th:block>
                                                            </td>
                                                            <td>
                                                                <th:block th:each="e:${ac.evaluacions}">
                                                                    <div>
                                                                        <span class="badge badge-pill badge-light"
                                                                            style="background-color: #9db9d3;"
                                                                            th:text="${e.porcentaje}+'%'"></span>
                                                                    </div>

                                                                </th:block>
                                                            </td>
                                                            <td>
                                                                <div>
                                                                    <span class="badge badge-pill badge-light"
                                                                        style="background-color: #afd1b6;"
                                                                        th:if="${ac.evaluacion_actividad_total}!=null"
                                                                        th:text="${ac.evaluacion_actividad_total}+'%'"></span>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                            <div class="tab-pane" id="actividadSemanaSiguiente" role="tabpanel">
                                                <hr>
                                                <h3 style="color: #24a2d8;">ACTIVIDADES PLANIFICADAS PARA LA SIGUIENTE
                                                    SEMANA</h3>
                                                <hr>
                                                <table id="example3"
                                                    class="table table-striped table-bordered dt-responsive"
                                                    style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                                                    <thead style="font-size:12px;">
                                                        <tr>

                                                            <th>#</th>
                                                            <th>MAS</th>
                                                            <th th:if="${nivel.id_nivel_funcional==1}">DIRECCION</th>
                                                            <th
                                                                th:if="${nivel.id_nivel_funcional==2} or ${nivel.id_nivel_funcional==1}">
                                                                UNIDAD</th>
                                                            <!--<th>RESPONSABLE</th>-->
                                                            <th>ACTIVIDAD</th>
                                                            <th>TIPO ACTIVIDAD</th>
                                                            <th>AFLUENCIA</th>
                                                            <th>ESTADO</th>
                                                            <th>FECHAS</th>
                                                            <th>EV-%</th>
                                                            <th>EV-T</th>

                                                        </tr>
                                                    </thead>


                                                    <tbody style="font-size:12px;">
                                                        <tr th:each="ac, ind:${listaActividadesMiUnidadFuturo}"
                                                            th:if="${ac.estado!='X'}" data-toggle="tooltip"
                                                            data-placement="top" th:title="${ac.descripcion_actividad}"
                                                            th:style="${ac.programdo == false} ? 'background-color: rgb(235, 217, 166);' : ''">

                                                            <td th:text="${ac.id_actividad}"></td>
                                                            <td>
                                                                <th:block th:each="ev:${ac.evaluacions}"
                                                                    th:if="${ev.tipoEvaluacion.id_tipo_evaluacion==1} and ${ev.estado!='X'}">
                                                                    <a href="#" data-toggle="tooltip"
                                                                        data-placement="top" title="Ver pdf"
                                                                        th:onclick="verDetalles([[${ev.id_evaluacion}]])"><i
                                                                            class="mdi mdi-eye-settings-outline"></i></a><!--ver-->
                                                                </th:block>
                                                                <th:block th:if="${ac.evaluacions.size()==0}">
                                                                    <a th:if="${nivel.id_nivel_funcional>=2} and ${ac.unidadFuncional.nom_unidad==unidad.nom_unidad}"
                                                                        href="#" data-toggle="tooltip"
                                                                        data-placement="top" title="Evaluar"
                                                                        th:onclick="evaluar([[${ac.id_actividad}]])"><i
                                                                            class="fab fa-wpforms"></i></a><!--evaluacion-->
                                                                </th:block>
                                                                <a th:if="${nivel.id_nivel_funcional>=2} and ${ac.unidadFuncional.nom_unidad==unidad.nom_unidad} and ${ac.estadoActividad.id_estado_actividad==1}"
                                                                    th:href="@{'/detalleActividad/'+${ac.id_actividad}}"
                                                                    data-toggle="tooltip" data-placement="top"
                                                                    title="Editar"><i
                                                                        class="far fa-edit"></i></a><!--editar-->
                                                                <a href="#"
                                                                    th:if="${nivel.id_nivel_funcional>=2} and ${ac.unidadFuncional.nom_unidad==unidad.nom_unidad} and ${ac.estadoActividad.id_estado_actividad==1}"
                                                                    data-toggle="tooltip" data-placement="top"
                                                                    title="Eliminar"
                                                                    th:onclick="eliminarActividad([[${ac.id_actividad}]])"><i
                                                                        class="far fa-trash-alt"></i></a><!--eliminar-->

                                                                <th:block
                                                                    th:if="${ac.programacions.size()==0} and ${nivel.id_nivel_funcional==1}">
                                                                    <a style="font-size: 16px;"
                                                                        th:onclick="programar([[${ac.id_actividad}]])"
                                                                        href="#" data-toggle="tooltip"
                                                                        data-placement="top" title="Programar"><i
                                                                            class="mdi mdi-check-underline-circle-outline"></i></a><!-- programar-->
                                                                </th:block>
                                                                <th:block th:each="p:${ac.programacions}"
                                                                    th:if="${nivel.id_nivel_funcional==1}">
                                                                    <a style="font-size: 16px;"
                                                                        th:if="${p.actividad.id_actividad==ac.id_actividad}"
                                                                        href="#"><i
                                                                            class="mdi mdi-check-underline-circle"></i></a><!--mdi mdi-check-underline-circle programar-->
                                                                </th:block>

                                                            </td>
                                                            <td th:if="${nivel.id_nivel_funcional==1}"
                                                                th:text="${ac.unidadFuncional.direccionFuncional.nom_direccion}">
                                                            </td>
                                                            <td th:if="${nivel.id_nivel_funcional==2} or ${nivel.id_nivel_funcional==1}"
                                                                th:text="${ac.unidadFuncional.nom_unidad}"></td>
                                                            <!--<td>
                                                                <th:block th:each="r:${ac.responsables}">
                                                                    <div th:text="${r.personalAdministrativo.persona.nombre+' '+r.personalAdministrativo.persona.apellido}">
                                                                        
                                                                    </div>
                                                                </th:block>
                                                            </td>  -->
                                                            <td th:text="${ac.nombre_actividad}"></td>
                                                            <td th:text="${ac.tipoActividad.nombre_tipo_actividad}">
                                                            </td>
                                                            <td th:text="${ac.afluencia.nombre_afluencia}"></td>
                                                            <td>
                                                                <th:block
                                                                    th:if="${ac.estadoActividad.nombre_estado_actividad=='CONCLUIDO'}">
                                                                    <div>
                                                                        <span class="badge badge-pill badge-light"
                                                                            style="background-color: #b9f3bd;"
                                                                            th:text="${ac.estadoActividad.nombre_estado_actividad}"></span>
                                                                    </div>
                                                                </th:block>
                                                                <th:block
                                                                    th:if="${ac.estadoActividad.nombre_estado_actividad=='PENDIENTE'}">
                                                                    <div>
                                                                        <span class="badge badge-pill badge-light"
                                                                            style="background-color: #b9edf3;"
                                                                            th:text="${ac.estadoActividad.nombre_estado_actividad}"></span>
                                                                    </div>
                                                                </th:block>
                                                            </td>
                                                            <td>
                                                                <th:block th:each="da:${ac.detalleActividads}"
                                                                    th:if="${da.estado!='X'}">
                                                                    <div>
                                                                        <span class="badge badge-pill badge-light"
                                                                            style="background-color: #B9F3E4;"
                                                                            th:text="${da.fecha_detalle_actividad}"></span>
                                                                    </div>
                                                                    <th:block th:each="sda:${da.subDetalleActividads}"
                                                                        th:if="${sda.estado!='X'}">

                                                                        <th:block th:each="l:${sda.lugares}">
                                                                            <div>
                                                                                <span
                                                                                    class="badge badge-pill badge-light"
                                                                                    style="background-color: #a3e1ef;"
                                                                                    th:text="${sda.hora_inicio}+' - '+${l.nombre_lugar}"></span>
                                                                            </div>
                                                                        </th:block>
                                                                    </th:block>
                                                                </th:block>
                                                            </td>
                                                            <td>
                                                                <th:block th:each="e:${ac.evaluacions}">
                                                                    <div>
                                                                        <span class="badge badge-pill badge-light"
                                                                            style="background-color: #9db9d3;"
                                                                            th:text="${e.porcentaje}+'%'"></span>
                                                                    </div>

                                                                </th:block>
                                                            </td>
                                                            <td>
                                                                <div>
                                                                    <span class="badge badge-pill badge-light"
                                                                        style="background-color: #afd1b6;"
                                                                        th:if="${ac.evaluacion_actividad_total}!=null"
                                                                        th:text="${ac.evaluacion_actividad_total}+'%'"></span>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--modal programarse-->
                        <div class="modal fade" tabindex="-1" id="ModalPro" role="dialog"
                            aria-labelledby="myLargeModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">

                                    <form th:action="@{/programarActividad}" method="get">
                                        <input type="hidden" id="id_activida" name="id_activida">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="nombre"></h5>
                                        </div>
                                        <div class="modal-body">
                                            <div class="text-center"><img
                                                    src="../../../../assets/images/interrogacion.png"
                                                    style="width: 30%; height: 20%; background-repeat: no-repeat;"
                                                    alt="" height="22">
                                                <h3>¿ESTA SEGURO DE PROGRAMAR?</h3>
                                            </div>

                                            <br>
                                            <div class="row">
                                                <div class="col-12 text-center">
                                                    <button type="submit" class="btn btn-primary me-1"
                                                        data-bs-dismiss="modal">Confirmar</button>

                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <!--modal ver detalles-->
                        <div class="modal fade" tabindex="-1" id="ModalVerDetalles" role="dialog"
                            aria-labelledby="myLargeModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content">
                                    <div class="row">
                                        <!--<div class="col-5">
                                                <div>
                                                    <label class="col-form-label">Descripcion</label>
                                                    <textarea class="form-control" type="text" id="id_e" placeholder="Descripcion"></textarea>
                                                </div>
                                            </div>-->
                                        <div class="col-md-12">
                                            <iframe width="800" height="600" id="iframe-pdfevaluacion" frameborder="0"
                                                allow="autoplay; encrypted-media" allowfullscreen></iframe>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- modal  evaluacion-->
                        <div class="modal fade" tabindex="-1" id="ModalEvaluacion" role="dialog"
                            aria-labelledby="myLargeModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content">

                                    <form th:action="@{/actvidadEvaluacion}" method="post"
                                        enctype="multipart/form-data">
                                        <input type="hidden" class="form-control" id="id_a" name="id_a"
                                            placeholder="Untitled folder" />
                                        <div class="modal-header">
                                            <h5 class="modal-title">Evaluación de Actividad</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                        </div>
                                        <div class="modal-body">

                                            <div class="form-group row">
                                                <div class="col-md-12">
                                                    <div>
                                                        <label class="col-form-label">Tipo de Evaluación</label>

                                                        <select class="selectize"
                                                            th:field="${evaluacion.tipoEvaluacion}" required>
                                                            <option th:each="tpe:${tipoEvaluacion}"
                                                                th:if="${tpe.id_tipo_evaluacion==1}"
                                                                th:value="${tpe.id_tipo_evaluacion}"
                                                                th:text="${tpe.nombre_evaluacion}" selected>-</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="col-md-12">


                                                    <label class="col-form-label">Porcentaje</label>
                                                    <input class="form-control" type="number" min="0" max="100"
                                                        th:field="${evaluacion.porcentaje}" required>
                                                </div>

                                                <div class="col-md-12">


                                                    <label class="col-form-label">Archivo</label>
                                                    <input class="form-control" type="file" accept="application/pdf"
                                                        th:field="${evaluacion.file}" required>
                                                </div>
                                            </div>
                                            <br>
                                            <div class="row">
                                                <div class="col-12 text-center">

                                                    <button type="submit" class="btn btn-primary me-1"
                                                        data-bs-dismiss="modal">Confirmar</button>
                                                    <button type="button" class="btn btn-outline-secondary"
                                                        data-bs-dismiss="modal">Cancelar</button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <footer class="footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-6">
                            2023 © SIASE.
                        </div>
                        <div class="col-sm-6">
                            <div class="text-sm-right d-none d-sm-block">
                                Creado por <i class="mdi mdi-heart text-danger"></i> Juan Carlos
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <div class="rightbar-overlay"></div>
    
    <script type="text/javascript" th:inline="javascript">
        var contadorInputs = 0;
        function agregarInput() {
        contadorInputs++;

    // Crear el contenido HTML como una cadena de texto con un id único
    var contenidoHTML = `
        <div class="form-group row justify-content-center">
            <div class="">
                <button class="btn btn-danger btn-sm" onclick="eliminarInput(this)">
                    <i class="fas fa-minus"></i>
                </button>
            </div>
            <div class="col-md-3">
                <input id="miInputTexto_${contadorInputs}" class="form-control" type="date" name="fechasA" required>
            </div>
            <div class="col-md-2">
                <input id="miInputHora1_${contadorInputs}" class="form-control" type="time" name="horasI" required>
            </div>
            <div class="col-md-2">
                <input id="miInputHora2_${contadorInputs}" class="form-control" type="time" name="horasF" required>
            </div>
            <div class="mt-2">
                
                <input id="checkbox_${contadorInputs}" type="checkbox" style="width: 20px; height: 20px;">
            </div>
            <div class="col-md-3 mt-1">
                <select id="miSelect_${contadorInputs}" class="form-control select2" name="lugaresA" required>
                    <option></option>
                </select>
            </div>
        </div>
    `;

    // Crear un elemento div para el grupo de formulario y asignarle el contenido HTML
    var nuevoFormGroup = document.createElement("div");
    nuevoFormGroup.innerHTML = contenidoHTML;

    // Agregar el grupo de formulario al contenedor
    var contenedor = document.getElementById("contenedorInputs");
    contenedor.appendChild(nuevoFormGroup);

    // Obtener referencias a los elementos del grupo de formulario recién creado
    var nuevoSelect = document.getElementById(`miSelect_${contadorInputs}`);
    var nuevoCheckbox = document.getElementById(`checkbox_${contadorInputs}`);

    // Agregar un evento de cambio al nuevo checkbox
    nuevoCheckbox.addEventListener('change', function () {
        var tipoLugar = this.checked ? 'E' : 'N'; // Determina el tipo de lugar según el estado del checkbox

        // Realiza la solicitud AJAX para obtener los lugares
        $.ajax({
            url: '/lugares', // Reemplaza con tu URL correcta
            method: 'GET',
            data: { tipo_lugar: tipoLugar }, // Parámetro de la solicitud
            success: function (response) {
                // Limpiar el select
                $(nuevoSelect).empty();

                // Agregar las opciones al select con estilo de color
                for (var i = 0; i < response.length; i++) {
                    var lugar = response[i];
                    var option = $('<option></option>').attr('value', lugar.id_lugar).text(lugar.nombre_lugar);

                    // Aplicar estilo de color si tipo_lugar es 'E'
                    if (lugar.tipo_lugar === 'E') {
                        option.attr('style', 'color: #0f890d;');
                    }
                    if (lugar.tipo_lugar === 'N') {
                        option.attr('style', 'color: #0630d6;');
                    }
                    $(nuevoSelect).append(option);
                }
            },
            error: function () {
                console.error('Error al obtener los lugares');
            }
        });
    });
    // Llenar el select por defecto según el estado inicial del checkbox
    var tipoLugarInicial = nuevoCheckbox.checked ? 'E' : 'N';
    llenarSelectDesdeTipoLugar(nuevoSelect, tipoLugarInicial);
    $(nuevoSelect).select2();
    
}
// Función para llenar el select con opciones de lugares desde la lista de lugares según el tipo de lugar
function llenarSelectDesdeTipoLugar(selectElement, tipoLugar) {
    $.ajax({
        url: '/lugares', // Reemplaza con tu URL correcta
        method: 'GET',
        data: { tipo_lugar: tipoLugar }, // Parámetro de la solicitud
        success: function (response) {
            // Limpiar el select
            $(selectElement).empty();

            // Agregar las opciones al select con estilo de color
            for (var i = 0; i < response.length; i++) {
                var lugar = response[i];
                var option = $('<option></option>').attr('value', lugar.id_lugar).text(lugar.nombre_lugar);

                // Aplicar estilo de color si tipo_lugar es 'E'
                if (lugar.tipo_lugar === 'E') {
                    option.attr('style', 'color: #0f890d;');
                }
                if (lugar.tipo_lugar === 'N') {
                    option.attr('style', 'color: #0630d6;');
                }
                $(selectElement).append(option);
            }
        },
        error: function () {
            console.error('Error al obtener los lugares');
        }
    });
}
        // Función para eliminar el grupo de formulario
        function eliminarInput(elemento) {
            elemento.parentNode.parentNode.remove(); // Eliminar el padre del padre del botón (el grupo de formulario)
        }
    
        // Función para llenar el select con opciones de lugares desde la lista de lugares
        function llenarSelectDesdeListaLugares(selectElement) {
            fetch('/ruta-del-controlador-que-obtiene-los-lugares')
                .then(response => response.json())
                .then(data => {
                    // Limpiar el select actual
                    selectElement.innerHTML = '';
                    
                    // Agregar una opción vacía
                    var option = document.createElement('option');
                    selectElement.appendChild(option);
                    
                    // Llenar el select con las opciones de lugares
                    data.lugares.forEach(lugar => {
                        var option = document.createElement('option');
                        
                        option.value = lugar.id_lugar; // Asigna el valor adecuado aquí
                        option.text = lugar.nombre_lugar; // Asigna el nombre del lugar aquí
                        selectElement.appendChild(option);
                    });
                })
                .catch(error => {
                    console.error('Error al obtener los lugares:', error);
                });
        }
    </script>
    
    <div th:replace="layout/pie :: pie"></div>
    <script type="text/javascript">

        function verDetalles(id_evaluacion) {
            var id_e = id_evaluacion;
            $("#ModalVerDetalles").modal("show");
            $("#id_e").val(id_e);
            $("#iframe-pdfevaluacion").attr("src", `/openFile/${id_e}`)
        }
        function evaluar(id_actividad) {
            var id_a = id_actividad;
            $("#ModalEvaluacion").modal("show");
            $("#id_a").val(id_a);
        }

    </script>
    <script type="text/javascript">
        function programar(id_activida) {
            var id_ac = id_activida;

            $('#id_activida').val(id_ac);
            $("#nombre").text('Actividad # : ' + id_ac);
            $("#ModalPro").modal("show");
        }
        function mostrarF() {
            var ii = 3;//document.getElementById("id_ac").value;

            $.getJSON("/sacarFechasAactividad", {
                idDetAct: ii,
                ajax: 'true'
            }, function (data) {
                var html = '<option value="">--Detalles--</option>';
                var len = data.length;
                for (var i = 0; i < len; i++) {
                    html += '<option value="' + data[i].id_detalle_actividad + '">'
                        + data[i].fecha_detalle_actividad + '</option>';
                }
                html += '</option>';
                $('#id_detalleA').html(html);
            });
        }
        function eliminarActividad(id_actividad) {
            var id_a = id_actividad;
            if (confirm('Esta seguro de eliminar est actividad?')) {
                window.location.href = '/eliminar-actividad/' + id_a;
            }
        }
    </script>
    <script>
        $(function () {
            $("#example1").DataTable({
                "responsive": true,
                "lengthChange": false,
                "autoWidth": false,
                "buttons": ["copy", "csv", "excel", "pdf", "print"]
                //, "colvis"
            }).buttons().container().appendTo(
                '#example1_wrapper .col-md-6:eq(0)');
            $('#example2').DataTable({
                "responsive": true,
                "lengthChange": false,
                "autoWidth": false,
                "buttons": ["copy", "csv", "excel", "pdf", "print"]
            }).buttons().container().appendTo(
                '#example2_wrapper .col-md-6:eq(0)');
            $('#example3').DataTable({
                "responsive": true,
                "lengthChange": false,
                "autoWidth": false,
                "buttons": ["copy", "csv", "excel", "pdf", "print"]
            }).buttons().container().appendTo(
                '#example3_wrapper .col-md-6:eq(0)');
        });
    </script>
    <script type="text/javascript" th:src="@{/assets/js/selectEspecial.js}"></script>
    
</body>

</html>